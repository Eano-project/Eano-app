<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EANO Dashboard</title>

  <!-- SEO Meta -->
  <meta name="description" content="EANO - Earn and network through mining, gaming, and more.">
  <meta name="keywords" content="EANO, crypto mining, Pi Network, earn online, Web3">
  <meta name="author" content="Santus Chukwuneke">

  <!-- PWA Meta -->
  <meta name="theme-color" content="#0d1117">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/icon-192x192.png">

  <!-- Favicon -->
  <link rel="icon" href="icons/icon-192x192.png" type="image/png">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase Config -->
  <script type="module" src="firebase.js"></script>

  <!-- Register Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/serviceWorker.js')
          .then(reg => console.log('✅ Service Worker registered', reg.scope))
          .catch(err => console.error('❌ SW registration failed:', err));
      });
    }
  </script>
</head>
<body class="dark">

  <!-- Balance Display -->
  <div class="top-bar">
    <div class="balance">Balance: <span id="balance">0.000</span> EANO</div>
    <div class="lang-toggle">
      <select id="languageSelect"></select>
    </div>
  </div>

  <!-- Announcement Block -->
  <div id="announcement" class="announcement">
    <img id="announcementImage" src="assets/announcement.jpg" alt="Announcement" />
    <p id="announcementText">🚀 Welcome to EANO – Let's mine together!</p>
  </div>

  <!-- Mining Status -->
  <div class="mining-status">
    <span id="miningStatus">Mining active</span> ⛏
    <div id="countdown">24:00:00</div>
  </div>

  <!-- Fixed Mine Button -->
  <button id="mineBtn" class="mine-button">🔵</button>

  <!-- Scrollable Menu & Sections -->
  <main class="scrollable">
    <nav class="menu">
      <a href="#home">🏡 Home</a>
      <a href="#mainnet">🔐 Mainnet-KYC (soon)</a>
      <a href="leaderboard.html">🏆 Leaderboard</a>
      <a href="team.html">👥 Team</a>
      <a href="#chat">💬 Chat</a>
      <a href="profile.html">🙋 Profile</a>
      <a href="#author">👨‍💻 Author</a>
      <a href="#whitepaper">📜 WhitePaper (soon)</a>
      <a href="https://t.me/eano_support">🛟 Support</a>
      <a href="index.html">🚪 Logout</a>
    </nav>

    <!-- Coming Soon Blocks -->
    <section class="features">
      <div class="feature-card">🎮 Games<br><small>Coming Soon</small></div>
      <div class="feature-card">🎙 Studio<br><small>Coming Soon</small></div>
      <div class="feature-card">🛒 Marketplace<br><small>Coming Soon</small></div>
      <div class="feature-card">📋 Tasks<br><small>Coming Soon</small></div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p>© 2025 EANO Project • Built with 💡 by Santus</p>
    <button id="themeToggle">🌙 Toggle Dark/Light</button>
  </footer>

  <!-- Combined Script (Dashboard JS logic) -->
  <script type="module" src="ui.js"></script>
  <script>
    // Language selection placeholder
    document.getElementById("languageSelect").innerHTML = `
      <option value="en">English</option>
      <option value="ig">Igbo</option>
      <option value="fr">French</option>
    `;

    // Theme toggle
    document.getElementById("themeToggle").addEventListener("click", () => {
      document.body.classList.toggle("dark");
    });

    // Countdown timer (24 hours)
    function startCountdown(duration = 86400) {
      let remaining = duration;
      const countdown = document.getElementById("countdown");
      setInterval(() => {
        if (remaining <= 0) return;
        remaining--;
        const hrs = String(Math.floor(remaining / 3600)).padStart(2, '0');
        const mins = String(Math.floor((remaining % 3600) / 60)).padStart(2, '0');
        const secs = String(remaining % 60).padStart(2, '0');
        countdown.textContent = `${hrs}:${mins}:${secs}`;
      }, 1000);
    }
    startCountdown();

    // Fixed Mine Button visual only (mining logic in firebase.js)
    document.getElementById("mineBtn").addEventListener("click", () => {
      alert("⛏ Mining already running in background.");
    });
  </script>
</body>
</html>
